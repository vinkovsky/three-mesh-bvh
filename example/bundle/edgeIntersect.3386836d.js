function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},o={},i=t.parcelRequire4485;null==i&&((i=function(e){if(e in n)return n[e].exports;if(e in o){var t=o[e];delete o[e];var i={id:e,exports:{}};return n[e]=i,t.call(i.exports,i,i.exports),i.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){o[e]=t},t.parcelRequire4485=i);var r,a,s={};r=s,a=function(){var e=function(){function t(e){return i.appendChild(e.dom),e}function n(e){for(var t=0;t<i.children.length;t++)i.children[t].style.display=t===e?"block":"none";o=e}var o=0,i=document.createElement("div");i.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",i.addEventListener("click",(function(e){e.preventDefault(),n(++o%i.children.length)}),!1);var r=(performance||Date).now(),a=r,s=0,d=t(new e.Panel("FPS","#0ff","#002")),l=t(new e.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var c=t(new e.Panel("MB","#f08","#201"));return n(0),{REVISION:16,dom:i,addPanel:t,showPanel:n,begin:function(){r=(performance||Date).now()},end:function(){s++;var e=(performance||Date).now();if(l.update(e-r,200),e>a+1e3&&(d.update(1e3*s/(e-a),100),a=e,s=0,c)){var t=performance.memory;c.update(t.usedJSHeapSize/1048576,t.jsHeapSizeLimit/1048576)}return e},update:function(){r=this.end()},domElement:i,setMode:n}};return e.Panel=function(e,t,n){var o=1/0,i=0,r=Math.round,a=r(window.devicePixelRatio||1),s=80*a,d=48*a,l=3*a,c=2*a,p=3*a,f=15*a,u=74*a,w=30*a,m=document.createElement("canvas");m.width=s,m.height=d,m.style.cssText="width:80px;height:48px";var y=m.getContext("2d");return y.font="bold "+9*a+"px Helvetica,Arial,sans-serif",y.textBaseline="top",y.fillStyle=n,y.fillRect(0,0,s,d),y.fillStyle=t,y.fillText(e,l,c),y.fillRect(p,f,u,w),y.fillStyle=n,y.globalAlpha=.9,y.fillRect(p,f,u,w),{dom:m,update:function(d,h){o=Math.min(o,d),i=Math.max(i,d),y.fillStyle=n,y.globalAlpha=1,y.fillRect(0,0,s,f),y.fillStyle=t,y.fillText(r(d)+" "+e+" ("+r(o)+"-"+r(i)+")",l,c),y.drawImage(m,p+a,f,u-a,w,p,f,u-a,w),y.fillRect(p+u-a,f,a,w),y.fillStyle=n,y.globalAlpha=.9,y.fillRect(p+u-a,f,a,r((1-d/h)*w))}}},e},"object"==typeof s?s=a():"function"==typeof define&&define.amd?define(a):r.Stats=a();var d=i("4Q0VG"),l=i("hGT0Q"),c=i("W2bOH"),p=i("aBPXg");l.Mesh.prototype.raycast=p.acceleratedRaycast,l.BufferGeometry.prototype.computeBoundsTree=p.computeBoundsTree,l.BufferGeometry.prototype.disposeBoundsTree=p.disposeBoundsTree;const f={position:new l.Vector3,rotation:new l.Euler,scale:new l.Vector3(1,1,1),speed:1,displayMeshes:!1,distance:1.1};let u,w,m,y,h,g,x,b,v,M,T=window.performance.now();!function(){y=new l.WebGLRenderer({antialias:!0}),y.setPixelRatio(window.devicePixelRatio),y.setSize(window.innerWidth,window.innerHeight),y.setClearColor(6687034,1),y.outputEncoding=l.sRGBEncoding,document.body.appendChild(y.domElement),w=new l.Scene,w.fog=new l.Fog(1251612,20,60);const t=new l.DirectionalLight(16777215,.5);t.position.set(1,1,1),w.add(t),w.add(new l.AmbientLight(16777215,.4));const n=new l.TorusKnotBufferGeometry(1,.4,100,40),o=new l.MeshPhongMaterial({color:16777215,side:l.DoubleSide,shininess:.01,polygonOffset:!0,polygonOffsetFactor:1,polygonOffsetUnits:1});n.computeBoundsTree({maxLeafTris:1,strategy:p.SAH}),g=new l.Mesh(n,o),x=new l.Mesh(n,o),w.add(g,x);const i=new l.BufferGeometry;i.setFromPoints([new l.Vector3(0,1,0),new l.Vector3(0,-1,0)]),v=new l.LineSegments(i,new l.LineBasicMaterial({color:15277667})),M=v.clone(),M.material=new l.LineBasicMaterial({color:15277667,transparent:!0,opacity:.25,depthTest:!1}),b=new l.Group,b.add(v,M),w.add(b),m=new l.PerspectiveCamera(75,window.innerWidth/window.innerHeight,.1,50),m.position.set(2,2,2),m.far=100,m.updateProjectionMatrix(),h=new c.OrbitControls(m,y.domElement),u=new(e(s)),document.body.appendChild(u.dom);const r=new d.GUI;r.add(f,"speed",0,10,.001),r.add(f,"distance",0,1.5,.001),r.add(f,"displayMeshes"),r.open(),window.addEventListener("resize",(function(){m.aspect=window.innerWidth/window.innerHeight,m.updateProjectionMatrix(),y.setSize(window.innerWidth,window.innerHeight)}),!1)}(),function e(){requestAnimationFrame(e);const t=window.performance.now()-T;T=window.performance.now(),g.position.y=-f.distance,g.rotation.x-=3*t*1e-4*f.speed*.5,g.rotation.y-=1e-4*t*f.speed*.5,g.rotation.z-=2e-4*t*f.speed*.5,x.position.y=f.distance,x.rotation.x+=1e-4*t*f.speed,x.rotation.y+=2e-4*t*f.speed,x.rotation.z+=3*t*1e-4*f.speed,g.updateMatrixWorld(),x.updateMatrixWorld();const n=(new l.Matrix4).copy(g.matrixWorld).invert().multiply(x.matrixWorld),o=new l.Line3,i=[];if(g.geometry.boundsTree.bvhcast(x.geometry.boundsTree,n,{intersectsTriangles(e,t){if(e.intersectsTriangle(t,o)){const{start:e,end:t}=o;i.push(e.x,e.y,e.z,t.x,t.y,t.z)}}}),i.length){const e=v.geometry,t=e.attributes.position.array;t.length<i.length?(e.dispose(),e.setAttribute("position",new l.BufferAttribute(new Float32Array(i),3,!1))):t.set(i),e.setDrawRange(0,i.length/3),e.attributes.position.needsUpdate=!0,b.position.copy(g.position),b.rotation.copy(g.rotation),b.scale.copy(g.scale),b.visible=!0}else b.visible=!1;g.visible=f.displayMeshes,x.visible=f.displayMeshes,y.render(w,m),u.begin(),u.end()}();
//# sourceMappingURL=edgeIntersect.3386836d.js.map
