function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},i={},o={},a=t.parcelRequire4485;null==a&&((a=function(e){if(e in i)return i[e].exports;if(e in o){var t=o[e];delete o[e];var a={id:e,exports:{}};return i[e]=a,t.call(a.exports,a,a.exports),a.exports}var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(e,t){o[e]=t},t.parcelRequire4485=a);var n=function(){var e=0,t=document.createElement("div");function i(e){return t.appendChild(e.dom),e}function o(i){for(var o=0;o<t.children.length;o++)t.children[o].style.display=o===i?"block":"none";e=i}t.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",t.addEventListener("click",(function(i){i.preventDefault(),o(++e%t.children.length)}),!1);var a=(performance||Date).now(),r=a,s=0,l=i(new n.Panel("FPS","#0ff","#002")),d=i(new n.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var h=i(new n.Panel("MB","#f08","#201"));return o(0),{REVISION:16,dom:t,addPanel:i,showPanel:o,begin:function(){a=(performance||Date).now()},end:function(){s++;var e=(performance||Date).now();if(d.update(e-a,200),e>r+1e3&&(l.update(1e3*s/(e-r),100),r=e,s=0,h)){var t=performance.memory;h.update(t.usedJSHeapSize/1048576,t.jsHeapSizeLimit/1048576)}return e},update:function(){a=this.end()},domElement:t,setMode:o}};n.Panel=function(e,t,i){var o=1/0,a=0,n=Math.round,r=n(window.devicePixelRatio||1),s=80*r,l=48*r,d=3*r,h=2*r,c=3*r,f=15*r,u=74*r,p=30*r,m=document.createElement("canvas");m.width=s,m.height=l,m.style.cssText="width:80px;height:48px";var y=m.getContext("2d");return y.font="bold "+9*r+"px Helvetica,Arial,sans-serif",y.textBaseline="top",y.fillStyle=i,y.fillRect(0,0,s,l),y.fillStyle=t,y.fillText(e,d,h),y.fillRect(c,f,u,p),y.fillStyle=i,y.globalAlpha=.9,y.fillRect(c,f,u,p),{dom:m,update:function(l,w){o=Math.min(o,l),a=Math.max(a,l),y.fillStyle=i,y.globalAlpha=1,y.fillRect(0,0,s,f),y.fillStyle=t,y.fillText(n(l)+" "+e+" ("+n(o)+"-"+n(a)+")",d,h),y.drawImage(m,c+r,f,u-r,p,c,f,u-r,p),y.fillRect(c+u-r,f,r,p),y.fillStyle=i,y.globalAlpha=.9,y.fillRect(c+u-r,f,r,n((1-l/w)*p))}}};var r=a("4Q0VG"),s=a("hGT0Q"),l=a("W2bOH"),d=a("1h7P3");s=a("hGT0Q");class h extends s.ImmediateRenderObject{constructor(e,t,i,o){super(t);const a=this,n=new Float32Array(36),r=new Float32Array(36),l=new Float32Array(36);function d(e,t,i){return e+(t-e)*i}function h(e,t,i,o,s,h,c,f,u,p){const m=(i-c)/(f-c),y=a.normal_cache;n[t+0]=o+m*a.delta,n[t+1]=s,n[t+2]=h,r[t+0]=d(y[e+0],y[e+3],m),r[t+1]=d(y[e+1],y[e+4],m),r[t+2]=d(y[e+2],y[e+5],m),l[t+0]=d(a.palette[3*u+0],a.palette[3*p+0],m),l[t+1]=d(a.palette[3*u+1],a.palette[3*p+1],m),l[t+2]=d(a.palette[3*u+2],a.palette[3*p+2],m)}function u(e,t,i,o,s,h,c,f,u,p){const m=(i-c)/(f-c),y=a.normal_cache;n[t+0]=o,n[t+1]=s+m*a.delta,n[t+2]=h;const w=e+3*a.yd;r[t+0]=d(y[e+0],y[w+0],m),r[t+1]=d(y[e+1],y[w+1],m),r[t+2]=d(y[e+2],y[w+2],m),l[t+0]=d(a.palette[3*u+0],a.palette[3*p+0],m),l[t+1]=d(a.palette[3*u+1],a.palette[3*p+1],m),l[t+2]=d(a.palette[3*u+2],a.palette[3*p+2],m)}function p(e,t,i,o,s,h,c,f,u,p){const m=(i-c)/(f-c),y=a.normal_cache;n[t+0]=o,n[t+1]=s,n[t+2]=h+m*a.delta;const w=e+3*a.zd;r[t+0]=d(y[e+0],y[w+0],m),r[t+1]=d(y[e+1],y[w+1],m),r[t+2]=d(y[e+2],y[w+2],m),l[t+0]=d(a.palette[3*u+0],a.palette[3*p+0],m),l[t+1]=d(a.palette[3*u+1],a.palette[3*p+1],m),l[t+2]=d(a.palette[3*u+2],a.palette[3*p+2],m)}function m(e){const t=3*e;0===a.normal_cache[t]&&(a.normal_cache[t+0]=a.field[e-1]-a.field[e+1],a.normal_cache[t+1]=a.field[e-a.yd]-a.field[e+a.yd],a.normal_cache[t+2]=a.field[e-a.zd]-a.field[e+a.zd])}function y(e,t,i,o,s,d){const y=o+1,v=o+a.yd,A=o+a.zd,M=y+a.yd,g=y+a.zd,z=o+a.yd+a.zd,b=y+a.yd+a.zd;let x=0;const C=a.field[o],S=a.field[y],P=a.field[v],B=a.field[M],F=a.field[A],G=a.field[g],T=a.field[z],D=a.field[b];C<s&&(x|=1),S<s&&(x|=2),P<s&&(x|=8),B<s&&(x|=4),F<s&&(x|=16),G<s&&(x|=32),T<s&&(x|=128),D<s&&(x|=64);const W=c[x];if(0===W)return 0;const E=a.delta,U=e+E,R=t+E,I=i+E;1&W&&(m(o),m(y),h(3*o,0,s,e,t,i,C,S,o,y)),2&W&&(m(y),m(M),u(3*y,3,s,U,t,i,S,B,y,M)),4&W&&(m(v),m(M),h(3*v,6,s,e,R,i,P,B,v,M)),8&W&&(m(o),m(v),u(3*o,9,s,e,t,i,C,P,o,v)),16&W&&(m(A),m(g),h(3*A,12,s,e,t,I,F,G,A,g)),32&W&&(m(g),m(b),u(3*g,15,s,U,t,I,G,D,g,b)),64&W&&(m(z),m(b),h(3*z,18,s,e,R,I,T,D,z,b)),128&W&&(m(A),m(z),u(3*A,21,s,e,t,I,F,T,A,z)),256&W&&(m(o),m(A),p(3*o,24,s,e,t,i,C,F,o,A)),512&W&&(m(y),m(g),p(3*y,27,s,U,t,i,S,G,y,g)),1024&W&&(m(M),m(b),p(3*M,30,s,U,R,i,B,D,M,b)),2048&W&&(m(v),m(z),p(3*v,33,s,e,R,i,P,T,v,z)),x<<=4;let _,N,q,O=0,H=0;for(;-1!=f[x+H];)_=x+H,N=_+1,q=_+2,w(n,r,l,3*f[_],3*f[N],3*f[q],d),H+=3,O++;return O}function w(e,t,i,o,n,r,s){const l=3*a.count;if(a.positionArray[l+0]=e[o],a.positionArray[l+1]=e[o+1],a.positionArray[l+2]=e[o+2],a.positionArray[l+3]=e[n],a.positionArray[l+4]=e[n+1],a.positionArray[l+5]=e[n+2],a.positionArray[l+6]=e[r],a.positionArray[l+7]=e[r+1],a.positionArray[l+8]=e[r+2],!0===a.material.flatShading){const e=(t[o+0]+t[n+0]+t[r+0])/3,i=(t[o+1]+t[n+1]+t[r+1])/3,s=(t[o+2]+t[n+2]+t[r+2])/3;a.normalArray[l+0]=e,a.normalArray[l+1]=i,a.normalArray[l+2]=s,a.normalArray[l+3]=e,a.normalArray[l+4]=i,a.normalArray[l+5]=s,a.normalArray[l+6]=e,a.normalArray[l+7]=i,a.normalArray[l+8]=s}else a.normalArray[l+0]=t[o+0],a.normalArray[l+1]=t[o+1],a.normalArray[l+2]=t[o+2],a.normalArray[l+3]=t[n+0],a.normalArray[l+4]=t[n+1],a.normalArray[l+5]=t[n+2],a.normalArray[l+6]=t[r+0],a.normalArray[l+7]=t[r+1],a.normalArray[l+8]=t[r+2];if(a.enableUvs){const t=2*a.count;a.uvArray[t+0]=e[o+0],a.uvArray[t+1]=e[o+2],a.uvArray[t+2]=e[n+0],a.uvArray[t+3]=e[n+2],a.uvArray[t+4]=e[r+0],a.uvArray[t+5]=e[r+2]}a.enableColors&&(a.colorArray[l+0]=i[o+0],a.colorArray[l+1]=i[o+1],a.colorArray[l+2]=i[o+2],a.colorArray[l+3]=i[n+0],a.colorArray[l+4]=i[n+1],a.colorArray[l+5]=i[n+2],a.colorArray[l+6]=i[r+0],a.colorArray[l+7]=i[r+1],a.colorArray[l+8]=i[r+2]),a.count+=3,a.count>=a.maxCount-3&&(a.hasPositions=!0,a.hasNormals=!0,a.enableUvs&&(a.hasUvs=!0),a.enableColors&&(a.hasColors=!0),s(a))}function v(e,t,i){const o=new Float32Array(e.length+i);return o.set(e,0),o.set(t.slice(0,i),e.length),o}this.enableUvs=void 0!==i&&i,this.enableColors=void 0!==o&&o,this.init=function(e){this.resolution=e,this.isolation=80,this.size=e,this.size2=this.size*this.size,this.size3=this.size2*this.size,this.halfsize=this.size/2,this.delta=2/this.size,this.yd=this.size,this.zd=this.size2,this.field=new Float32Array(this.size3),this.normal_cache=new Float32Array(3*this.size3),this.palette=new Float32Array(3*this.size3),this.maxCount=4096,this.count=0,this.hasPositions=!1,this.hasNormals=!1,this.hasColors=!1,this.hasUvs=!1,this.positionArray=new Float32Array(3*this.maxCount),this.normalArray=new Float32Array(3*this.maxCount),this.enableUvs&&(this.uvArray=new Float32Array(2*this.maxCount)),this.enableColors&&(this.colorArray=new Float32Array(3*this.maxCount))},this.begin=function(){this.count=0,this.hasPositions=!1,this.hasNormals=!1,this.hasUvs=!1,this.hasColors=!1},this.end=function(e){if(0!==this.count){for(let e=3*this.count;e<this.positionArray.length;e++)this.positionArray[e]=0;this.hasPositions=!0,this.hasNormals=!0,this.enableUvs&&this.material.map&&(this.hasUvs=!0),this.enableColors&&this.material.vertexColors!==s.NoColors&&(this.hasColors=!0),e(this)}},this.addBall=function(e,t,i,o,a,n){const r=Math.sign(o);o=Math.abs(o);const l=!(null==n);let d=new s.Color(e,t,i);if(l)try{d=n instanceof s.Color?n:Array.isArray(n)?new s.Color(Math.min(Math.abs(n[0]),1),Math.min(Math.abs(n[1]),1),Math.min(Math.abs(n[2]),1)):new s.Color(n)}catch(o){d=new s.Color(e,t,i)}const h=this.size*Math.sqrt(o/a),c=i*this.size,f=t*this.size,u=e*this.size;let p=Math.floor(c-h);p<1&&(p=1);let m=Math.floor(c+h);m>this.size-1&&(m=this.size-1);let y=Math.floor(f-h);y<1&&(y=1);let w=Math.floor(f+h);w>this.size-1&&(w=this.size-1);let v=Math.floor(u-h);v<1&&(v=1);let A,M,g,z,b,x,C,S,P,B,F,G=Math.floor(u+h);for(G>this.size-1&&(G=this.size-1),g=p;g<m;g++)for(b=this.size2*g,S=g/this.size-i,P=S*S,M=y;M<w;M++)for(z=b+this.size*M,C=M/this.size-t,B=C*C,A=v;A<G;A++)if(x=A/this.size-e,F=o/(1e-6+x*x+B+P)-a,F>0){this.field[z+A]+=F*r;const e=Math.sqrt((A-u)*(A-u)+(M-f)*(M-f)+(g-c)*(g-c))/h,t=1-e*e*e*(e*(6*e-15)+10);this.palette[3*(z+A)+0]+=d.r*t,this.palette[3*(z+A)+1]+=d.g*t,this.palette[3*(z+A)+2]+=d.b*t}},this.addPlaneX=function(e,t){const i=this.size,o=this.yd,a=this.zd,n=this.field;let r,s,l,d,h,c,f,u=i*Math.sqrt(e/t);for(u>i&&(u=i),r=0;r<u;r++)if(c=r/i,d=c*c,h=e/(1e-4+d)-t,h>0)for(s=0;s<i;s++)for(f=r+s*o,l=0;l<i;l++)n[a*l+f]+=h},this.addPlaneY=function(e,t){const i=this.size,o=this.yd,a=this.zd,n=this.field;let r,s,l,d,h,c,f,u,p=i*Math.sqrt(e/t);for(p>i&&(p=i),s=0;s<p;s++)if(c=s/i,d=c*c,h=e/(1e-4+d)-t,h>0)for(f=s*o,r=0;r<i;r++)for(u=f+r,l=0;l<i;l++)n[a*l+u]+=h},this.addPlaneZ=function(e,t){const i=this.size,o=this.yd,a=this.zd,n=this.field;let r,s,l,d,h,c,f,u,p=i*Math.sqrt(e/t);for(p>i&&(p=i),l=0;l<p;l++)if(c=l/i,d=c*c,h=e/(1e-4+d)-t,h>0)for(f=a*l,s=0;s<i;s++)for(u=f+s*o,r=0;r<i;r++)n[u+r]+=h},this.setCell=function(e,t,i,o){const a=this.size2*i+this.size*t+e;this.field[a]=o},this.getCell=function(e,t,i){const o=this.size2*i+this.size*t+e;return this.field[o]},this.blur=function(e=1){const t=this.field,i=t.slice(),o=this.size,a=this.size2;for(let n=0;n<o;n++)for(let r=0;r<o;r++)for(let s=0;s<o;s++){const l=a*s+o*r+n;let d=i[l],h=1;for(let t=-1;t<=1;t+=2){const l=t+n;if(!(l<0||l>=o))for(let t=-1;t<=1;t+=2){const n=t+r;if(!(n<0||n>=o))for(let t=-1;t<=1;t+=2){const r=t+s;if(r<0||r>=o)continue;const c=i[a*r+o*n+l];h++,d+=e*(c-d)/h}}}t[l]=d}},this.reset=function(){for(let e=0;e<this.size3;e++)this.normal_cache[3*e]=0,this.field[e]=0,this.palette[3*e]=this.palette[3*e+1]=this.palette[3*e+2]=0},this.render=function(e){this.begin();const t=this.size-2;for(let i=1;i<t;i++){const o=this.size2*i,a=(i-this.halfsize)/this.halfsize;for(let i=1;i<t;i++){const n=o+this.size*i,r=(i-this.halfsize)/this.halfsize;for(let i=1;i<t;i++){y((i-this.halfsize)/this.halfsize,r,a,n+i,this.isolation,e)}}}this.end(e)},this.generateGeometry=function(){return console.warn("THREE.MarchingCubes: generateGeometry() now returns BufferGeometry"),this.generateBufferGeometry()},this.generateBufferGeometry=function(){const e=new s.BufferGeometry;let t=new Float32Array,i=new Float32Array,o=new Float32Array,a=new Float32Array;const n=this;return this.render((function(e){n.hasPositions&&(t=v(t,e.positionArray,3*e.count)),n.hasNormals&&(i=v(i,e.normalArray,3*e.count)),n.hasColors&&(o=v(o,e.colorArray,3*e.count)),n.hasUvs&&(a=v(a,e.uvArray,2*e.count)),e.count=0})),this.hasPositions&&e.setAttribute("position",new s.BufferAttribute(t,3)),this.hasNormals&&e.setAttribute("normal",new s.BufferAttribute(i,3)),this.hasColors&&e.setAttribute("color",new s.BufferAttribute(o,3)),this.hasUvs&&e.setAttribute("uv",new s.BufferAttribute(a,2)),e},this.init(e)}}h.prototype.isMarchingCubes=!0;const c=new Int32Array([0,265,515,778,1030,1295,1541,1804,2060,2309,2575,2822,3082,3331,3593,3840,400,153,915,666,1430,1183,1941,1692,2460,2197,2975,2710,3482,3219,3993,3728,560,825,51,314,1590,1855,1077,1340,2620,2869,2111,2358,3642,3891,3129,3376,928,681,419,170,1958,1711,1445,1196,2988,2725,2479,2214,4010,3747,3497,3232,1120,1385,1635,1898,102,367,613,876,3180,3429,3695,3942,2154,2403,2665,2912,1520,1273,2035,1786,502,255,1013,764,3580,3317,4095,3830,2554,2291,3065,2800,1616,1881,1107,1370,598,863,85,348,3676,3925,3167,3414,2650,2899,2137,2384,1984,1737,1475,1226,966,719,453,204,4044,3781,3535,3270,3018,2755,2505,2240,2240,2505,2755,3018,3270,3535,3781,4044,204,453,719,966,1226,1475,1737,1984,2384,2137,2899,2650,3414,3167,3925,3676,348,85,863,598,1370,1107,1881,1616,2800,3065,2291,2554,3830,4095,3317,3580,764,1013,255,502,1786,2035,1273,1520,2912,2665,2403,2154,3942,3695,3429,3180,876,613,367,102,1898,1635,1385,1120,3232,3497,3747,4010,2214,2479,2725,2988,1196,1445,1711,1958,170,419,681,928,3376,3129,3891,3642,2358,2111,2869,2620,1340,1077,1855,1590,314,51,825,560,3728,3993,3219,3482,2710,2975,2197,2460,1692,1941,1183,1430,666,915,153,400,3840,3593,3331,3082,2822,2575,2309,2060,1804,1541,1295,1030,778,515,265,0]),f=new Int32Array([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,8,3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,9,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,8,3,9,8,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,2,10,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,8,3,1,2,10,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,9,2,10,0,2,9,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2,8,3,2,10,8,10,9,8,-1,-1,-1,-1,-1,-1,-1,3,11,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,11,2,8,11,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,9,0,2,3,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,11,2,1,9,11,9,8,11,-1,-1,-1,-1,-1,-1,-1,3,10,1,11,10,3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,10,1,0,8,10,8,11,10,-1,-1,-1,-1,-1,-1,-1,3,9,0,3,11,9,11,10,9,-1,-1,-1,-1,-1,-1,-1,9,8,10,10,8,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,7,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,3,0,7,3,4,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,9,8,4,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,1,9,4,7,1,7,3,1,-1,-1,-1,-1,-1,-1,-1,1,2,10,8,4,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3,4,7,3,0,4,1,2,10,-1,-1,-1,-1,-1,-1,-1,9,2,10,9,0,2,8,4,7,-1,-1,-1,-1,-1,-1,-1,2,10,9,2,9,7,2,7,3,7,9,4,-1,-1,-1,-1,8,4,7,3,11,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,11,4,7,11,2,4,2,0,4,-1,-1,-1,-1,-1,-1,-1,9,0,1,8,4,7,2,3,11,-1,-1,-1,-1,-1,-1,-1,4,7,11,9,4,11,9,11,2,9,2,1,-1,-1,-1,-1,3,10,1,3,11,10,7,8,4,-1,-1,-1,-1,-1,-1,-1,1,11,10,1,4,11,1,0,4,7,11,4,-1,-1,-1,-1,4,7,8,9,0,11,9,11,10,11,0,3,-1,-1,-1,-1,4,7,11,4,11,9,9,11,10,-1,-1,-1,-1,-1,-1,-1,9,5,4,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,9,5,4,0,8,3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,5,4,1,5,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,8,5,4,8,3,5,3,1,5,-1,-1,-1,-1,-1,-1,-1,1,2,10,9,5,4,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3,0,8,1,2,10,4,9,5,-1,-1,-1,-1,-1,-1,-1,5,2,10,5,4,2,4,0,2,-1,-1,-1,-1,-1,-1,-1,2,10,5,3,2,5,3,5,4,3,4,8,-1,-1,-1,-1,9,5,4,2,3,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,11,2,0,8,11,4,9,5,-1,-1,-1,-1,-1,-1,-1,0,5,4,0,1,5,2,3,11,-1,-1,-1,-1,-1,-1,-1,2,1,5,2,5,8,2,8,11,4,8,5,-1,-1,-1,-1,10,3,11,10,1,3,9,5,4,-1,-1,-1,-1,-1,-1,-1,4,9,5,0,8,1,8,10,1,8,11,10,-1,-1,-1,-1,5,4,0,5,0,11,5,11,10,11,0,3,-1,-1,-1,-1,5,4,8,5,8,10,10,8,11,-1,-1,-1,-1,-1,-1,-1,9,7,8,5,7,9,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,9,3,0,9,5,3,5,7,3,-1,-1,-1,-1,-1,-1,-1,0,7,8,0,1,7,1,5,7,-1,-1,-1,-1,-1,-1,-1,1,5,3,3,5,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,9,7,8,9,5,7,10,1,2,-1,-1,-1,-1,-1,-1,-1,10,1,2,9,5,0,5,3,0,5,7,3,-1,-1,-1,-1,8,0,2,8,2,5,8,5,7,10,5,2,-1,-1,-1,-1,2,10,5,2,5,3,3,5,7,-1,-1,-1,-1,-1,-1,-1,7,9,5,7,8,9,3,11,2,-1,-1,-1,-1,-1,-1,-1,9,5,7,9,7,2,9,2,0,2,7,11,-1,-1,-1,-1,2,3,11,0,1,8,1,7,8,1,5,7,-1,-1,-1,-1,11,2,1,11,1,7,7,1,5,-1,-1,-1,-1,-1,-1,-1,9,5,8,8,5,7,10,1,3,10,3,11,-1,-1,-1,-1,5,7,0,5,0,9,7,11,0,1,0,10,11,10,0,-1,11,10,0,11,0,3,10,5,0,8,0,7,5,7,0,-1,11,10,5,7,11,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,10,6,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,8,3,5,10,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,9,0,1,5,10,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,8,3,1,9,8,5,10,6,-1,-1,-1,-1,-1,-1,-1,1,6,5,2,6,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,6,5,1,2,6,3,0,8,-1,-1,-1,-1,-1,-1,-1,9,6,5,9,0,6,0,2,6,-1,-1,-1,-1,-1,-1,-1,5,9,8,5,8,2,5,2,6,3,2,8,-1,-1,-1,-1,2,3,11,10,6,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,11,0,8,11,2,0,10,6,5,-1,-1,-1,-1,-1,-1,-1,0,1,9,2,3,11,5,10,6,-1,-1,-1,-1,-1,-1,-1,5,10,6,1,9,2,9,11,2,9,8,11,-1,-1,-1,-1,6,3,11,6,5,3,5,1,3,-1,-1,-1,-1,-1,-1,-1,0,8,11,0,11,5,0,5,1,5,11,6,-1,-1,-1,-1,3,11,6,0,3,6,0,6,5,0,5,9,-1,-1,-1,-1,6,5,9,6,9,11,11,9,8,-1,-1,-1,-1,-1,-1,-1,5,10,6,4,7,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,3,0,4,7,3,6,5,10,-1,-1,-1,-1,-1,-1,-1,1,9,0,5,10,6,8,4,7,-1,-1,-1,-1,-1,-1,-1,10,6,5,1,9,7,1,7,3,7,9,4,-1,-1,-1,-1,6,1,2,6,5,1,4,7,8,-1,-1,-1,-1,-1,-1,-1,1,2,5,5,2,6,3,0,4,3,4,7,-1,-1,-1,-1,8,4,7,9,0,5,0,6,5,0,2,6,-1,-1,-1,-1,7,3,9,7,9,4,3,2,9,5,9,6,2,6,9,-1,3,11,2,7,8,4,10,6,5,-1,-1,-1,-1,-1,-1,-1,5,10,6,4,7,2,4,2,0,2,7,11,-1,-1,-1,-1,0,1,9,4,7,8,2,3,11,5,10,6,-1,-1,-1,-1,9,2,1,9,11,2,9,4,11,7,11,4,5,10,6,-1,8,4,7,3,11,5,3,5,1,5,11,6,-1,-1,-1,-1,5,1,11,5,11,6,1,0,11,7,11,4,0,4,11,-1,0,5,9,0,6,5,0,3,6,11,6,3,8,4,7,-1,6,5,9,6,9,11,4,7,9,7,11,9,-1,-1,-1,-1,10,4,9,6,4,10,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,10,6,4,9,10,0,8,3,-1,-1,-1,-1,-1,-1,-1,10,0,1,10,6,0,6,4,0,-1,-1,-1,-1,-1,-1,-1,8,3,1,8,1,6,8,6,4,6,1,10,-1,-1,-1,-1,1,4,9,1,2,4,2,6,4,-1,-1,-1,-1,-1,-1,-1,3,0,8,1,2,9,2,4,9,2,6,4,-1,-1,-1,-1,0,2,4,4,2,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,8,3,2,8,2,4,4,2,6,-1,-1,-1,-1,-1,-1,-1,10,4,9,10,6,4,11,2,3,-1,-1,-1,-1,-1,-1,-1,0,8,2,2,8,11,4,9,10,4,10,6,-1,-1,-1,-1,3,11,2,0,1,6,0,6,4,6,1,10,-1,-1,-1,-1,6,4,1,6,1,10,4,8,1,2,1,11,8,11,1,-1,9,6,4,9,3,6,9,1,3,11,6,3,-1,-1,-1,-1,8,11,1,8,1,0,11,6,1,9,1,4,6,4,1,-1,3,11,6,3,6,0,0,6,4,-1,-1,-1,-1,-1,-1,-1,6,4,8,11,6,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,7,10,6,7,8,10,8,9,10,-1,-1,-1,-1,-1,-1,-1,0,7,3,0,10,7,0,9,10,6,7,10,-1,-1,-1,-1,10,6,7,1,10,7,1,7,8,1,8,0,-1,-1,-1,-1,10,6,7,10,7,1,1,7,3,-1,-1,-1,-1,-1,-1,-1,1,2,6,1,6,8,1,8,9,8,6,7,-1,-1,-1,-1,2,6,9,2,9,1,6,7,9,0,9,3,7,3,9,-1,7,8,0,7,0,6,6,0,2,-1,-1,-1,-1,-1,-1,-1,7,3,2,6,7,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2,3,11,10,6,8,10,8,9,8,6,7,-1,-1,-1,-1,2,0,7,2,7,11,0,9,7,6,7,10,9,10,7,-1,1,8,0,1,7,8,1,10,7,6,7,10,2,3,11,-1,11,2,1,11,1,7,10,6,1,6,7,1,-1,-1,-1,-1,8,9,6,8,6,7,9,1,6,11,6,3,1,3,6,-1,0,9,1,11,6,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,7,8,0,7,0,6,3,11,0,11,6,0,-1,-1,-1,-1,7,11,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,7,6,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3,0,8,11,7,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,9,11,7,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,8,1,9,8,3,1,11,7,6,-1,-1,-1,-1,-1,-1,-1,10,1,2,6,11,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,2,10,3,0,8,6,11,7,-1,-1,-1,-1,-1,-1,-1,2,9,0,2,10,9,6,11,7,-1,-1,-1,-1,-1,-1,-1,6,11,7,2,10,3,10,8,3,10,9,8,-1,-1,-1,-1,7,2,3,6,2,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,7,0,8,7,6,0,6,2,0,-1,-1,-1,-1,-1,-1,-1,2,7,6,2,3,7,0,1,9,-1,-1,-1,-1,-1,-1,-1,1,6,2,1,8,6,1,9,8,8,7,6,-1,-1,-1,-1,10,7,6,10,1,7,1,3,7,-1,-1,-1,-1,-1,-1,-1,10,7,6,1,7,10,1,8,7,1,0,8,-1,-1,-1,-1,0,3,7,0,7,10,0,10,9,6,10,7,-1,-1,-1,-1,7,6,10,7,10,8,8,10,9,-1,-1,-1,-1,-1,-1,-1,6,8,4,11,8,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3,6,11,3,0,6,0,4,6,-1,-1,-1,-1,-1,-1,-1,8,6,11,8,4,6,9,0,1,-1,-1,-1,-1,-1,-1,-1,9,4,6,9,6,3,9,3,1,11,3,6,-1,-1,-1,-1,6,8,4,6,11,8,2,10,1,-1,-1,-1,-1,-1,-1,-1,1,2,10,3,0,11,0,6,11,0,4,6,-1,-1,-1,-1,4,11,8,4,6,11,0,2,9,2,10,9,-1,-1,-1,-1,10,9,3,10,3,2,9,4,3,11,3,6,4,6,3,-1,8,2,3,8,4,2,4,6,2,-1,-1,-1,-1,-1,-1,-1,0,4,2,4,6,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,9,0,2,3,4,2,4,6,4,3,8,-1,-1,-1,-1,1,9,4,1,4,2,2,4,6,-1,-1,-1,-1,-1,-1,-1,8,1,3,8,6,1,8,4,6,6,10,1,-1,-1,-1,-1,10,1,0,10,0,6,6,0,4,-1,-1,-1,-1,-1,-1,-1,4,6,3,4,3,8,6,10,3,0,3,9,10,9,3,-1,10,9,4,6,10,4,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,9,5,7,6,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,8,3,4,9,5,11,7,6,-1,-1,-1,-1,-1,-1,-1,5,0,1,5,4,0,7,6,11,-1,-1,-1,-1,-1,-1,-1,11,7,6,8,3,4,3,5,4,3,1,5,-1,-1,-1,-1,9,5,4,10,1,2,7,6,11,-1,-1,-1,-1,-1,-1,-1,6,11,7,1,2,10,0,8,3,4,9,5,-1,-1,-1,-1,7,6,11,5,4,10,4,2,10,4,0,2,-1,-1,-1,-1,3,4,8,3,5,4,3,2,5,10,5,2,11,7,6,-1,7,2,3,7,6,2,5,4,9,-1,-1,-1,-1,-1,-1,-1,9,5,4,0,8,6,0,6,2,6,8,7,-1,-1,-1,-1,3,6,2,3,7,6,1,5,0,5,4,0,-1,-1,-1,-1,6,2,8,6,8,7,2,1,8,4,8,5,1,5,8,-1,9,5,4,10,1,6,1,7,6,1,3,7,-1,-1,-1,-1,1,6,10,1,7,6,1,0,7,8,7,0,9,5,4,-1,4,0,10,4,10,5,0,3,10,6,10,7,3,7,10,-1,7,6,10,7,10,8,5,4,10,4,8,10,-1,-1,-1,-1,6,9,5,6,11,9,11,8,9,-1,-1,-1,-1,-1,-1,-1,3,6,11,0,6,3,0,5,6,0,9,5,-1,-1,-1,-1,0,11,8,0,5,11,0,1,5,5,6,11,-1,-1,-1,-1,6,11,3,6,3,5,5,3,1,-1,-1,-1,-1,-1,-1,-1,1,2,10,9,5,11,9,11,8,11,5,6,-1,-1,-1,-1,0,11,3,0,6,11,0,9,6,5,6,9,1,2,10,-1,11,8,5,11,5,6,8,0,5,10,5,2,0,2,5,-1,6,11,3,6,3,5,2,10,3,10,5,3,-1,-1,-1,-1,5,8,9,5,2,8,5,6,2,3,8,2,-1,-1,-1,-1,9,5,6,9,6,0,0,6,2,-1,-1,-1,-1,-1,-1,-1,1,5,8,1,8,0,5,6,8,3,8,2,6,2,8,-1,1,5,6,2,1,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,3,6,1,6,10,3,8,6,5,6,9,8,9,6,-1,10,1,0,10,0,6,9,5,0,5,6,0,-1,-1,-1,-1,0,3,8,5,6,10,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,10,5,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,11,5,10,7,5,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,11,5,10,11,7,5,8,3,0,-1,-1,-1,-1,-1,-1,-1,5,11,7,5,10,11,1,9,0,-1,-1,-1,-1,-1,-1,-1,10,7,5,10,11,7,9,8,1,8,3,1,-1,-1,-1,-1,11,1,2,11,7,1,7,5,1,-1,-1,-1,-1,-1,-1,-1,0,8,3,1,2,7,1,7,5,7,2,11,-1,-1,-1,-1,9,7,5,9,2,7,9,0,2,2,11,7,-1,-1,-1,-1,7,5,2,7,2,11,5,9,2,3,2,8,9,8,2,-1,2,5,10,2,3,5,3,7,5,-1,-1,-1,-1,-1,-1,-1,8,2,0,8,5,2,8,7,5,10,2,5,-1,-1,-1,-1,9,0,1,5,10,3,5,3,7,3,10,2,-1,-1,-1,-1,9,8,2,9,2,1,8,7,2,10,2,5,7,5,2,-1,1,3,5,3,7,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,8,7,0,7,1,1,7,5,-1,-1,-1,-1,-1,-1,-1,9,0,3,9,3,5,5,3,7,-1,-1,-1,-1,-1,-1,-1,9,8,7,5,9,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,5,8,4,5,10,8,10,11,8,-1,-1,-1,-1,-1,-1,-1,5,0,4,5,11,0,5,10,11,11,3,0,-1,-1,-1,-1,0,1,9,8,4,10,8,10,11,10,4,5,-1,-1,-1,-1,10,11,4,10,4,5,11,3,4,9,4,1,3,1,4,-1,2,5,1,2,8,5,2,11,8,4,5,8,-1,-1,-1,-1,0,4,11,0,11,3,4,5,11,2,11,1,5,1,11,-1,0,2,5,0,5,9,2,11,5,4,5,8,11,8,5,-1,9,4,5,2,11,3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2,5,10,3,5,2,3,4,5,3,8,4,-1,-1,-1,-1,5,10,2,5,2,4,4,2,0,-1,-1,-1,-1,-1,-1,-1,3,10,2,3,5,10,3,8,5,4,5,8,0,1,9,-1,5,10,2,5,2,4,1,9,2,9,4,2,-1,-1,-1,-1,8,4,5,8,5,3,3,5,1,-1,-1,-1,-1,-1,-1,-1,0,4,5,1,0,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,8,4,5,8,5,3,9,0,5,0,3,5,-1,-1,-1,-1,9,4,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,11,7,4,9,11,9,10,11,-1,-1,-1,-1,-1,-1,-1,0,8,3,4,9,7,9,11,7,9,10,11,-1,-1,-1,-1,1,10,11,1,11,4,1,4,0,7,4,11,-1,-1,-1,-1,3,1,4,3,4,8,1,10,4,7,4,11,10,11,4,-1,4,11,7,9,11,4,9,2,11,9,1,2,-1,-1,-1,-1,9,7,4,9,11,7,9,1,11,2,11,1,0,8,3,-1,11,7,4,11,4,2,2,4,0,-1,-1,-1,-1,-1,-1,-1,11,7,4,11,4,2,8,3,4,3,2,4,-1,-1,-1,-1,2,9,10,2,7,9,2,3,7,7,4,9,-1,-1,-1,-1,9,10,7,9,7,4,10,2,7,8,7,0,2,0,7,-1,3,7,10,3,10,2,7,4,10,1,10,0,4,0,10,-1,1,10,2,8,7,4,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,9,1,4,1,7,7,1,3,-1,-1,-1,-1,-1,-1,-1,4,9,1,4,1,7,0,8,1,8,7,1,-1,-1,-1,-1,4,0,3,7,4,3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,8,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,9,10,8,10,11,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3,0,9,3,9,11,11,9,10,-1,-1,-1,-1,-1,-1,-1,0,1,10,0,10,8,8,10,11,-1,-1,-1,-1,-1,-1,-1,3,1,10,11,3,10,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,2,11,1,11,9,9,11,8,-1,-1,-1,-1,-1,-1,-1,3,0,9,3,9,11,1,2,9,2,11,9,-1,-1,-1,-1,0,2,11,8,0,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3,2,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2,3,8,2,8,10,10,8,9,-1,-1,-1,-1,-1,-1,-1,9,10,2,0,9,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2,3,8,2,8,10,0,1,8,1,10,8,-1,-1,-1,-1,1,10,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,3,8,9,1,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,9,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,3,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1]);var u={};!function(){var e=.5*(Math.sqrt(3)-1),t=(3-Math.sqrt(3))/6,i=1/6,o=(Math.sqrt(5)-1)/4,a=(5-Math.sqrt(5))/20;function n(e){var t;t="function"==typeof e?e:e?function(){var e=0,t=0,i=0,o=1,a=s();e=a(" "),t=a(" "),i=a(" ");for(var n=0;n<arguments.length;n++)(e-=a(arguments[n]))<0&&(e+=1),(t-=a(arguments[n]))<0&&(t+=1),(i-=a(arguments[n]))<0&&(i+=1);return a=null,function(){var a=2091639*e+2.3283064365386963e-10*o;return e=t,t=i,i=a-(o=0|a)}}(e):Math.random,this.p=r(t),this.perm=new Uint8Array(512),this.permMod12=new Uint8Array(512);for(var i=0;i<512;i++)this.perm[i]=this.p[255&i],this.permMod12[i]=this.perm[i]%12}function r(e){var t,i=new Uint8Array(256);for(t=0;t<256;t++)i[t]=t;for(t=0;t<255;t++){var o=t+~~(e()*(256-t)),a=i[t];i[t]=i[o],i[o]=a}return i}function s(){var e=4022871197;return function(t){t=t.toString();for(var i=0;i<t.length;i++){var o=.02519603282416938*(e+=t.charCodeAt(i));o-=e=o>>>0,e=(o*=e)>>>0,e+=4294967296*(o-=e)}return 2.3283064365386963e-10*(e>>>0)}}n.prototype={grad3:new Float32Array([1,1,0,-1,1,0,1,-1,0,-1,-1,0,1,0,1,-1,0,1,1,0,-1,-1,0,-1,0,1,1,0,-1,1,0,1,-1,0,-1,-1]),grad4:new Float32Array([0,1,1,1,0,1,1,-1,0,1,-1,1,0,1,-1,-1,0,-1,1,1,0,-1,1,-1,0,-1,-1,1,0,-1,-1,-1,1,0,1,1,1,0,1,-1,1,0,-1,1,1,0,-1,-1,-1,0,1,1,-1,0,1,-1,-1,0,-1,1,-1,0,-1,-1,1,1,0,1,1,1,0,-1,1,-1,0,1,1,-1,0,-1,-1,1,0,1,-1,1,0,-1,-1,-1,0,1,-1,-1,0,-1,1,1,1,0,1,1,-1,0,1,-1,1,0,1,-1,-1,0,-1,1,1,0,-1,1,-1,0,-1,-1,1,0,-1,-1,-1,0]),noise2D:function(i,o){var a,n,r=this.permMod12,s=this.perm,l=this.grad3,d=0,h=0,c=0,f=(i+o)*e,u=Math.floor(i+f),p=Math.floor(o+f),m=(u+p)*t,y=i-(u-m),w=o-(p-m);y>w?(a=1,n=0):(a=0,n=1);var v=y-a+t,A=w-n+t,M=y-1+2*t,g=w-1+2*t,z=255&u,b=255&p,x=.5-y*y-w*w;if(x>=0){var C=3*r[z+s[b]];d=(x*=x)*x*(l[C]*y+l[C+1]*w)}var S=.5-v*v-A*A;if(S>=0){var P=3*r[z+a+s[b+n]];h=(S*=S)*S*(l[P]*v+l[P+1]*A)}var B=.5-M*M-g*g;if(B>=0){var F=3*r[z+1+s[b+1]];c=(B*=B)*B*(l[F]*M+l[F+1]*g)}return 70*(d+h+c)},noise3D:function(e,t,o){var a,n,r,s,l,d,h,c,f,u,p=this.permMod12,m=this.perm,y=this.grad3,w=.3333333333333333*(e+t+o),v=Math.floor(e+w),A=Math.floor(t+w),M=Math.floor(o+w),g=(v+A+M)*i,z=e-(v-g),b=t-(A-g),x=o-(M-g);z>=b?b>=x?(l=1,d=0,h=0,c=1,f=1,u=0):z>=x?(l=1,d=0,h=0,c=1,f=0,u=1):(l=0,d=0,h=1,c=1,f=0,u=1):b<x?(l=0,d=0,h=1,c=0,f=1,u=1):z<x?(l=0,d=1,h=0,c=0,f=1,u=1):(l=0,d=1,h=0,c=1,f=1,u=0);var C=z-l+i,S=b-d+i,P=x-h+i,B=z-c+2*i,F=b-f+2*i,G=x-u+2*i,T=z-1+.5,D=b-1+.5,W=x-1+.5,E=255&v,U=255&A,R=255&M,I=.6-z*z-b*b-x*x;if(I<0)a=0;else{var _=3*p[E+m[U+m[R]]];a=(I*=I)*I*(y[_]*z+y[_+1]*b+y[_+2]*x)}var N=.6-C*C-S*S-P*P;if(N<0)n=0;else{var q=3*p[E+l+m[U+d+m[R+h]]];n=(N*=N)*N*(y[q]*C+y[q+1]*S+y[q+2]*P)}var O=.6-B*B-F*F-G*G;if(O<0)r=0;else{var H=3*p[E+c+m[U+f+m[R+u]]];r=(O*=O)*O*(y[H]*B+y[H+1]*F+y[H+2]*G)}var L=.6-T*T-D*D-W*W;if(L<0)s=0;else{var k=3*p[E+1+m[U+1+m[R+1]]];s=(L*=L)*L*(y[k]*T+y[k+1]*D+y[k+2]*W)}return 32*(a+n+r+s)},noise4D:function(e,t,i,n){var r,s,l,d,h,c,f,u,p,m,y,w,v,A,M,g,z,b=this.perm,x=this.grad4,C=(e+t+i+n)*o,S=Math.floor(e+C),P=Math.floor(t+C),B=Math.floor(i+C),F=Math.floor(n+C),G=(S+P+B+F)*a,T=e-(S-G),D=t-(P-G),W=i-(B-G),E=n-(F-G),U=0,R=0,I=0,_=0;T>D?U++:R++,T>W?U++:I++,T>E?U++:_++,D>W?R++:I++,D>E?R++:_++,W>E?I++:_++;var N=T-(c=U>=3?1:0)+a,q=D-(f=R>=3?1:0)+a,O=W-(u=I>=3?1:0)+a,H=E-(p=_>=3?1:0)+a,L=T-(m=U>=2?1:0)+2*a,k=D-(y=R>=2?1:0)+2*a,j=W-(w=I>=2?1:0)+2*a,V=E-(v=_>=2?1:0)+2*a,Q=T-(A=U>=1?1:0)+3*a,X=D-(M=R>=1?1:0)+3*a,Y=W-(g=I>=1?1:0)+3*a,Z=E-(z=_>=1?1:0)+3*a,J=T-1+4*a,$=D-1+4*a,K=W-1+4*a,ee=E-1+4*a,te=255&S,ie=255&P,oe=255&B,ae=255&F,ne=.6-T*T-D*D-W*W-E*E;if(ne<0)r=0;else{var re=b[te+b[ie+b[oe+b[ae]]]]%32*4;r=(ne*=ne)*ne*(x[re]*T+x[re+1]*D+x[re+2]*W+x[re+3]*E)}var se=.6-N*N-q*q-O*O-H*H;if(se<0)s=0;else{var le=b[te+c+b[ie+f+b[oe+u+b[ae+p]]]]%32*4;s=(se*=se)*se*(x[le]*N+x[le+1]*q+x[le+2]*O+x[le+3]*H)}var de=.6-L*L-k*k-j*j-V*V;if(de<0)l=0;else{var he=b[te+m+b[ie+y+b[oe+w+b[ae+v]]]]%32*4;l=(de*=de)*de*(x[he]*L+x[he+1]*k+x[he+2]*j+x[he+3]*V)}var ce=.6-Q*Q-X*X-Y*Y-Z*Z;if(ce<0)d=0;else{var fe=b[te+A+b[ie+M+b[oe+g+b[ae+z]]]]%32*4;d=(ce*=ce)*ce*(x[fe]*Q+x[fe+1]*X+x[fe+2]*Y+x[fe+3]*Z)}var ue=.6-J*J-$*$-K*K-ee*ee;if(ue<0)h=0;else{var pe=b[te+1+b[ie+1+b[oe+1+b[ae+1]]]]%32*4;h=(ue*=ue)*ue*(x[pe]*J+x[pe+1]*$+x[pe+2]*K+x[pe+3]*ee)}return 27*(r+s+l+d+h)}},n._buildPermutationTable=r,"undefined"!=typeof define&&define.amd&&define((function(){return n})),void 0!==u?u.SimplexNoise=n:"undefined"!=typeof window&&(window.SimplexNoise=n),u=n}();var p=a("aBPXg");s.Mesh.prototype.raycast=p.acceleratedRaycast,s.BufferGeometry.prototype.computeBoundsTree=p.computeBoundsTree,s.BufferGeometry.prototype.disposeBoundsTree=p.disposeBoundsTree;const m={visualizeBounds:!1,visualBoundsDepth:10,volume:{display:1,hideWhileGenerating:!1,alwaysShowDistance:!0,surfaceOnly:!1,distance:1,resolution:100,radius:4},displayClosestPoint:!0};let y,w,v,A,M,g,z,b,x,C,S,P,B,F,G,T,D,W=!1;function E(){g&&!m.visualizeBounds&&(w.remove(g),g=null),!g&&m.visualizeBounds&&(g=new p.MeshBVHVisualizer(z),w.add(g)),g&&(g.depth=m.visualBoundsDepth)}function U(e){b.updateMatrixWorld();const t=(new s.Matrix4).copy(z.matrixWorld).invert().multiply(b.matrixWorld),i=m.volume.distance,o=i,a=e?i:0,n={},r={},l=!!z.geometry.boundsTree.closestPointToGeometry(x.geometry,t,n,r,a,o)&&n.distance<i;l&&(G.position.copy(n.point),T.position.copy(r.point).applyMatrix4(t),G.position.applyMatrix4(z.matrixWorld),T.position.applyMatrix4(z.matrixWorld),D.position.copy(G.position),D.lookAt(T.position),D.scale.set(.01,.01,G.position.distanceTo(T.position))),x.material.color.set(l?15277667:6710886),x.material.emissive.set(15277667).multiplyScalar(l?.25:0);const d=l&&!e;D.visible=d,G.visible=d,T.visible=d}function*R(){if(0==m.volume.display)return;U();const e=2==m.volume.display,t=new s.Vector3,i=m.volume.surfaceOnly,o=m.volume.resolution,a=m.volume.distance,n=m.volume.radius;let r,l,d;e?(b.add(F),l=(new s.Matrix4).identity(),r=2*(x.geometry.boundingSphere.radius+a),d=x):(w.add(F),r=2*(n+4*n/o),l=(new s.Matrix4).copy(z.matrixWorld).invert(),d=z),F.scale.set(r/2,r/2,r/2),F.updateMatrixWorld(),F.remove(S);const c=new h(o,S.material,!1,!1);c.isolation=0,S=c,F.add(S),S.updateMatrixWorld();const f=S.matrixWorld.getMaxScaleOnAxis(),u=-f,p=S.size,y=2*f/p,v=y/2;S.isolation=.5,S.position.x=1/p,S.position.y=1/p,S.position.z=1/p,S.reset();const A={};let M=0;for(let o=0;o<p;o++)for(let r=0;r<p;r++)for(let s=0;s<p;s++){if(t.x=u+v+r*y,t.y=u+v+o*y,t.z=u+v+s*y,e||i||t.length()<n&&!e){t.applyMatrix4(l);const e=!!d.geometry.boundsTree.closestPointToPoint(t,A,a,a),i=A.distance<a;S.setCell(r,o,s,e&&i?0:1)}M++,yield M/(p*p*p)}S.blur(1),P.geometry=S.generateBufferGeometry(),B.geometry=P.geometry}let I=null,_=!0;!function(){A=new s.WebGLRenderer({antialias:!0}),A.setPixelRatio(window.devicePixelRatio),A.setSize(window.innerWidth,window.innerHeight),A.setClearColor(1251612,1),A.shadowMap.enabled=!0,A.shadowMap.type=s.PCFSoftShadowMap,document.body.appendChild(A.domElement),w=new s.Scene,w.fog=new s.Fog(1251612,10,45);const t=new s.DirectionalLight(16777215,.5);t.position.set(20,20,20),t.castShadow=!0,t.shadow.mapSize.set(2048,2048);const i=t.shadow.camera;i.left=i.bottom=-15,i.right=i.top=15,i.updateProjectionMatrix(),w.add(t),w.add(new s.AmbientLight(14743546,.5));const o=new s.PlaneBufferGeometry(50,50,249,249),a=o.attributes.position,c=~~(100*Math.random()),f=new(e(u))(c);for(let e=0;e<62500;e++){const t=a.getX(e)/15,i=a.getY(e)/15;a.setZ(e,3*f.noise2D(t,i))}o.computeVertexNormals(),o.computeBoundsTree(),z=new s.Mesh(o,new s.MeshStandardMaterial({color:16777215,metalness:.1,roughness:.9,side:s.DoubleSide})),z.rotation.x=-Math.PI/2,z.position.y=-3,z.receiveShadow=!0,w.add(z),v=new s.PerspectiveCamera(75,window.innerWidth/window.innerHeight,.1,50),v.position.z=5,v.far=100,v.updateProjectionMatrix(),y=new n,document.body.appendChild(y.dom);const p=new s.MeshStandardMaterial({roughness:.75,metalness:.1});b=new s.Group,w.add(b),x=new s.Mesh(new s.CylinderBufferGeometry(.5,.25,1,20,1),p),x.castShadow=!0,x.receiveShadow=!0,x.geometry.computeBoundsTree(),x.geometry.computeBoundingSphere(),b.add(x),M=new l.OrbitControls(v,A.domElement),C=new d.TransformControls(v,A.domElement),C.attach(b),C.addEventListener("dragging-changed",(e=>{M.enabled=!e.value,e.value||(W=!0)})),C.addEventListener("objectChange",(e=>{W=!0})),w.add(C);const g=new s.MeshStandardMaterial({color:15277667,metalness:0,roughness:.9,side:s.DoubleSide});S=new h(100,g,!1,!1),S.isolation=0;const R=new s.MeshStandardMaterial({flatShading:!0,color:15277667,metalness:0,roughness:.35,transparent:!0,depthWrite:!1,opacity:.15,premultipliedAlpha:!0});P=new s.Mesh(void 0,R),P.visible=!1,P.receiveShadow=!0;const I=R.clone();I.side=s.BackSide,B=new s.Mesh(void 0,I),B.receiveShadow=!0,B.visible=!1,F=new s.Group,F.scale.multiplyScalar(5),F.add(S),F.add(B),F.add(P),w.add(F),G=new s.Mesh(new s.SphereBufferGeometry(.025,20,20),new s.MeshBasicMaterial({color:15277667})),G.castShadow=!0,w.add(G),T=G.clone(),T.castShadow=!0,w.add(T);const N=new s.Mesh(new s.BoxBufferGeometry,G.material);N.castShadow=!0,N.position.z=.5,D=new s.Object3D,D.add(N),w.add(D),w.updateMatrixWorld(!0);const q=new r.GUI({width:300});q.add(m,"visualizeBounds").onChange((()=>E())),q.add(m,"visualBoundsDepth").min(1).max(40).step(1).onChange((()=>E()));const O=q.addFolder("distanceVisualization");O.add(m.volume,"display",{hide:0,"distance to terrain":1,"distance to mesh":2}).onChange((()=>_=!0)),O.add(m.volume,"hideWhileGenerating"),O.add(m.volume,"alwaysShowDistance"),O.add(m.volume,"surfaceOnly").onChange((()=>_=!0)),O.add(m.volume,"distance").min(0).max(2).step(.01).onChange((()=>_=!0)),O.add(m.volume,"radius").min(1).max(20).onChange((()=>_=!0)),O.add(m.volume,"resolution",5,200,1).onChange((()=>_=!0)),O.open(),q.add(C,"mode",["translate","rotate"]);const H=q.addFolder("position");H.add(b.position,"x").min(-5).max(5).step(.001).listen(),H.add(b.position,"y").min(-5).max(5).step(.001).listen(),H.add(b.position,"z").min(-5).max(5).step(.001).listen();const L=q.addFolder("rotation");L.add(b.rotation,"x").min(-Math.PI).max(Math.PI).step(.001).listen(),L.add(b.rotation,"y").min(-Math.PI).max(Math.PI).step(.001).listen(),L.add(b.rotation,"z").min(-Math.PI).max(Math.PI).step(.001).listen(),q.open(),U(),window.addEventListener("resize",(function(){v.aspect=window.innerWidth/window.innerHeight,v.updateProjectionMatrix(),A.setSize(window.innerWidth,window.innerHeight)}),!1),window.addEventListener("keydown",(function(e){switch(e.key){case"w":C.mode="translate";break;case"e":C.mode="rotate"}q.updateDisplay()}))}(),E(),function e(){y.begin(),W&&(U(!m.volume.alwaysShowDistance),W=!1),g&&g.update(),_&&(I=R(),_=!1);let t=0;if(I){let e=window.performance.now();for(;window.performance.now()-e<15;){const e=I.next();if(t=e.value,e.done){S.visible=!1,I=null;break}}S.visible=!m.volume.hideWhileGenerating&&0!=m.volume.display,P.visible=!1,B.visible=!1}I||(S.visible=!1,P.visible=0!=m.volume.display,B.visible=0!=m.volume.display),document.getElementById("loader").setAttribute("style",`width: ${100*t}%`),A.render(w,v),y.end(),requestAnimationFrame(e)}();
//# sourceMappingURL=distancecast.96a59819.js.map
