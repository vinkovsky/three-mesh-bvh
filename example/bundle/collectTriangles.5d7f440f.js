var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},i=e.parcelRequire4485;null==i&&((i=function(e){if(e in t)return t[e].exports;if(e in n){var i=n[e];delete n[e];var o={id:e,exports:{}};return t[e]=o,i.call(o.exports,o,o.exports),o.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){n[e]=t},e.parcelRequire4485=i);var o=function(){var e=0,t=document.createElement("div");function n(e){return t.appendChild(e.dom),e}function i(n){for(var i=0;i<t.children.length;i++)t.children[i].style.display=i===n?"block":"none";e=n}t.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",t.addEventListener("click",(function(n){n.preventDefault(),i(++e%t.children.length)}),!1);var r=(performance||Date).now(),a=r,s=0,d=n(new o.Panel("FPS","#0ff","#002")),l=n(new o.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var c=n(new o.Panel("MB","#f08","#201"));return i(0),{REVISION:16,dom:t,addPanel:n,showPanel:i,begin:function(){r=(performance||Date).now()},end:function(){s++;var e=(performance||Date).now();if(l.update(e-r,200),e>a+1e3&&(d.update(1e3*s/(e-a),100),a=e,s=0,c)){var t=performance.memory;c.update(t.usedJSHeapSize/1048576,t.jsHeapSizeLimit/1048576)}return e},update:function(){r=this.end()},domElement:t,setMode:i}};o.Panel=function(e,t,n){var i=1/0,o=0,r=Math.round,a=r(window.devicePixelRatio||1),s=80*a,d=48*a,l=3*a,c=2*a,f=3*a,p=15*a,u=74*a,w=30*a,m=document.createElement("canvas");m.width=s,m.height=d,m.style.cssText="width:80px;height:48px";var h=m.getContext("2d");return h.font="bold "+9*a+"px Helvetica,Arial,sans-serif",h.textBaseline="top",h.fillStyle=n,h.fillRect(0,0,s,d),h.fillStyle=t,h.fillText(e,l,c),h.fillRect(f,p,u,w),h.fillStyle=n,h.globalAlpha=.9,h.fillRect(f,p,u,w),{dom:m,update:function(d,y){i=Math.min(i,d),o=Math.max(o,d),h.fillStyle=n,h.globalAlpha=1,h.fillRect(0,0,s,p),h.fillStyle=t,h.fillText(r(d)+" "+e+" ("+r(i)+"-"+r(o)+")",l,c),h.drawImage(m,f+a,p,u-a,w,f,p,u-a,w),h.fillRect(f+u-a,p,a,w),h.fillStyle=n,h.globalAlpha=.9,h.fillRect(f+u-a,p,a,r((1-d/y)*w))}}};var r=i("4Q0VG"),a=i("hGT0Q"),s=i("W2bOH"),d=i("aBPXg");a.Mesh.prototype.raycast=d.acceleratedRaycast,a.BufferGeometry.prototype.computeBoundsTree=d.computeBoundsTree,a.BufferGeometry.prototype.disposeBoundsTree=d.disposeBoundsTree;const l={size:.1,rotate:!0};let c,f,p,u,w,m,h,y,v=new a.Vector2,g=-1,x=!1;!function(){u=new a.WebGLRenderer({antialias:!0}),u.setPixelRatio(window.devicePixelRatio),u.setSize(window.innerWidth,window.innerHeight),u.setClearColor(1251612,1),u.outputEncoding=a.sRGBEncoding,document.body.appendChild(u.domElement),u.domElement.style.touchAction="none",f=new a.Scene,f.fog=new a.Fog(1251612,20,60);const e=new a.DirectionalLight(16777215,.5);e.position.set(1,1,1),f.add(e),f.add(new a.AmbientLight(16777215,.4));const t=new a.TorusKnotBufferGeometry(1,.4,800,400).toNonIndexed(),n=new Uint8Array(3*t.attributes.position.count);n.fill(255);const i=new a.BufferAttribute(n,3,!0);i.setUsage(a.DynamicDrawUsage),t.setAttribute("color",i);const d=new a.MeshStandardMaterial({color:16777215,roughness:.3,metalness:0,vertexColors:!0});m=new a.Mesh(t,d),m.geometry.computeBoundsTree(),f.add(m);const b=new a.SphereBufferGeometry(1,40,40),E=new a.MeshStandardMaterial({color:15483002,roughness:.75,metalness:0,transparent:!0,opacity:.5,premultipliedAlpha:!0,emissive:15483002,emissiveIntensity:.5});h=new a.Mesh(b,E),f.add(h),p=new a.PerspectiveCamera(75,window.innerWidth/window.innerHeight,.1,50),p.position.set(3,3,3),p.far=100,p.updateProjectionMatrix(),c=new o,document.body.appendChild(c.dom);const T=new r.GUI;T.add(l,"size").min(.1).max(1).step(.1),T.add(l,"rotate"),T.open(),window.addEventListener("resize",(function(){p.aspect=window.innerWidth/window.innerHeight,p.updateProjectionMatrix(),u.setSize(window.innerWidth,window.innerHeight)}),!1),window.addEventListener("pointermove",(function(e){v.x=e.clientX/window.innerWidth*2-1,v.y=-e.clientY/window.innerHeight*2+1,x=!0})),window.addEventListener("pointerdown",(function(e){v.x=e.clientX/window.innerWidth*2-1,v.y=-e.clientY/window.innerHeight*2+1,g=e.button;const t=new a.Raycaster;t.setFromCamera(v,p),t.firstHitOnly=!0;const n=t.intersectObject(m,!0);x=!0,w.enabled=0===n.length}),!0),window.addEventListener("pointerup",(function(e){g=-1,"touch"===e.pointerType&&(x=!1)}),!0),window.addEventListener("contextmenu",(function(e){e.preventDefault()})),window.addEventListener("wheel",(function(e){let t=e.deltaY;1===e.deltaMode&&(t*=40),2===e.deltaMode&&(t*=40),l.size+=5e-4*t,l.size=Math.max(Math.min(l.size,1),.1),T.updateDisplay()})),w=new s.OrbitControls(p,u.domElement),w.addEventListener("start",(function(){this.active=!0})),w.addEventListener("end",(function(){this.active=!1})),y=window.performance.now()}(),function e(){requestAnimationFrame(e),c.begin();const t=m.geometry,n=t.boundsTree,i=t.getAttribute("color"),o=t.index;if(w.active||!x)h.visible=!1;else{h.scale.setScalar(l.size);const e=new a.Raycaster;e.setFromCamera(v,p),e.firstHitOnly=!0;const t=e.intersectObject(m,!0);if(t.length){h.position.copy(t[0].point),w.enabled=!1,h.visible=!0;const e=new a.Matrix4;e.copy(m.matrixWorld).invert();const r=new a.Sphere;r.center.copy(h.position).applyMatrix4(e),r.radius=l.size;const s=[],c=new a.Vector3;if(n.shapecast({intersectsBounds:e=>{const t=r.intersectsBox(e),{min:n,max:i}=e;if(t){for(let e=0;e<=1;e++)for(let t=0;t<=1;t++)for(let o=0;o<=1;o++)if(c.set(0===e?n.x:i.x,0===t?n.y:i.y,0===o?n.z:i.z),!r.containsPoint(c))return d.INTERSECTED;return d.CONTAINED}return t?d.INTERSECTED:d.NOT_INTERSECTED},intersectsTriangle:(e,t,n)=>{if(n||e.intersectsSphere(r)){const e=3*t;s.push(e,e+1,e+2)}return!1}}),0===g||2===g){let e=255,t=255,n=255;0===g&&(e=15,t=78,n=85);for(let r=0,a=s.length;r<a;r++){const a=o.getX(s[r]);i.setX(a,e),i.setY(a,t),i.setZ(a,n)}i.needsUpdate=!0}}else w.enabled=!0,h.visible=!1}const r=window.performance.now();if(l.rotate){const e=r-y;m.rotation.y+=.001*e}y=r,u.render(f,p),c.end()}();
//# sourceMappingURL=collectTriangles.5d7f440f.js.map
