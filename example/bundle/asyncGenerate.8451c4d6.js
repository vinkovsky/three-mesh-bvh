function e(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},o={},r=n.parcelRequire4485;null==r&&((r=function(e){if(e in t)return t[e].exports;if(e in o){var n=o[e];delete o[e];var r={id:e,exports:{}};return t[e]=r,n.call(r.exports,r,r.exports),r.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,n){o[e]=n},n.parcelRequire4485=r);var i,a,d=r("hGT0Q"),l={};i=l,a=function(){var e=function(){function n(e){return r.appendChild(e.dom),e}function t(e){for(var n=0;n<r.children.length;n++)r.children[n].style.display=n===e?"block":"none";o=e}var o=0,r=document.createElement("div");r.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",r.addEventListener("click",(function(e){e.preventDefault(),t(++o%r.children.length)}),!1);var i=(performance||Date).now(),a=i,d=0,l=n(new e.Panel("FPS","#0ff","#002")),s=n(new e.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var p=n(new e.Panel("MB","#f08","#201"));return t(0),{REVISION:16,dom:r,addPanel:n,showPanel:t,begin:function(){i=(performance||Date).now()},end:function(){d++;var e=(performance||Date).now();if(s.update(e-i,200),e>a+1e3&&(l.update(1e3*d/(e-a),100),a=e,d=0,p)){var n=performance.memory;p.update(n.usedJSHeapSize/1048576,n.jsHeapSizeLimit/1048576)}return e},update:function(){i=this.end()},domElement:r,setMode:t}};return e.Panel=function(e,n,t){var o=1/0,r=0,i=Math.round,a=i(window.devicePixelRatio||1),d=80*a,l=48*a,s=3*a,p=2*a,c=3*a,f=15*a,u=74*a,w=30*a,m=document.createElement("canvas");m.width=d,m.height=l,m.style.cssText="width:80px;height:48px";var h=m.getContext("2d");return h.font="bold "+9*a+"px Helvetica,Arial,sans-serif",h.textBaseline="top",h.fillStyle=t,h.fillRect(0,0,d,l),h.fillStyle=n,h.fillText(e,s,p),h.fillRect(c,f,u,w),h.fillStyle=t,h.globalAlpha=.9,h.fillRect(c,f,u,w),{dom:m,update:function(l,g){o=Math.min(o,l),r=Math.max(r,l),h.fillStyle=t,h.globalAlpha=1,h.fillRect(0,0,d,f),h.fillStyle=n,h.fillText(i(l)+" "+e+" ("+i(o)+"-"+i(r)+")",s,p),h.drawImage(m,c+a,f,u-a,w,c,f,u-a,w),h.fillRect(c+u-a,f,a,w),h.fillStyle=t,h.globalAlpha=.9,h.fillRect(c+u-a,f,a,i((1-l/g)*w))}}},e},"object"==typeof l?l=a():"function"==typeof define&&define.amd?define(a):i.Stats=a();var s=r("4Q0VG"),p=r("3C1cw"),c=r("aBPXg");d.Mesh.raycast=c.acceleratedRaycast;const f={useWebWorker:!0,radius:1,tube:.3,tubularSegments:250,radialSegments:250,p:3,q:5,displayHelper:!1,helperDepth:10};let u,w,m,h,g,y,x,S,b,v,M,T=!1;function H(){if(T)return;T=!0,h&&(h.material.dispose(),h.geometry.dispose(),b.remove(h),b.remove(S));const e=window.performance.now(),n=window.performance.now();h=new d.Mesh(new d.TorusKnotBufferGeometry(f.radius,f.tube,f.tubularSegments,f.radialSegments,f.p,f.q),new d.MeshStandardMaterial({color:new d.Color(5093036).convertSRGBToLinear(),roughness:.75}));const t=window.performance.now()-n,o=window.performance.now();let r;if(f.useWebWorker)M.generate(h.geometry).then((e=>{h.geometry.boundsTree=e,b.add(h);const n=window.performance.now()-o;T=!1,S=new c.MeshBVHVisualizer(h,0),S.depth=f.helperDepth,f.displayHelper&&S.update(),b.add(S),x.textContent=`Geometry Generation Time : ${t.toFixed(3)}ms\nBVH Generation Time : ${n.toFixed(3)}ms\nFrame Stall Time : ${r.toFixed(3)}`})),r=window.performance.now()-e;else{h.geometry.boundsTree=new c.MeshBVH(h.geometry),r=window.performance.now()-e,b.add(h);const n=window.performance.now()-o;T=!1,S=new c.MeshBVHVisualizer(h),S.depth=f.helperDepth,S.update(),b.add(S),x.textContent=`Geometry Generation Time : ${t.toFixed(3)}ms\nBVH Generation Time : ${n.toFixed(3)}ms\nFrame Stall Time : ${r.toFixed(3)}`}}!function(){x=document.getElementById("output"),u=new d.WebGLRenderer({antialias:!0}),u.setPixelRatio(window.devicePixelRatio),u.setSize(window.innerWidth,window.innerHeight),u.setClearColor(16763432,1),u.outputEncoding=d.sRGBEncoding,document.body.appendChild(u.domElement),m=new d.Scene,m.fog=new d.Fog(16763432,20,60);const n=new d.DirectionalLight(16777215,1);n.position.set(1,1,1),m.add(n),m.add(new d.AmbientLight(11583173,.8)),w=new d.PerspectiveCamera(75,window.innerWidth/window.innerHeight,.1,50),w.position.set(0,0,4),w.far=100,w.updateProjectionMatrix(),g=new d.Clock,v=new(e(l)),document.body.appendChild(v.dom),b=new d.Group,m.add(b);for(let e=0;e<400;e++){const e=new d.Mesh(new d.SphereBufferGeometry(1,32,32),new d.MeshBasicMaterial);e.position.set(Math.random()-.5,Math.random()-.5,Math.random()-.5).multiplyScalar(70),e.scale.setScalar(.3*Math.random()+.1),b.add(e)}M=new p.GenerateMeshBVHWorker,y=new s.GUI;const t=y.addFolder("helper");t.add(f,"displayHelper").name("enabled").onChange((e=>{e&&S&&S.update()})),t.add(f,"helperDepth",1,50,1).onChange((e=>{S&&(S.depth=e,S.update())})),t.open();const o=y.addFolder("knot");o.add(f,"useWebWorker"),o.add(f,"radius",.5,2,.01),o.add(f,"tube",.2,1.2,.01),o.add(f,"tubularSegments",50,1e3,1),o.add(f,"radialSegments",5,1e3,1),o.add(f,"p",1,10,1),o.add(f,"q",1,10,1),o.add({regenerateKnot:H},"regenerateKnot").name("regenerate"),o.open(),H(),window.addEventListener("resize",(function(){w.aspect=window.innerWidth/window.innerHeight,w.updateProjectionMatrix(),u.setSize(window.innerWidth,window.innerHeight)}),!1)}(),function e(){v.update(),requestAnimationFrame(e);let n=g.getDelta();b.rotation.x+=.4*n,b.rotation.y+=.6*n,S&&(S.visible=f.displayHelper);u.render(m,w)}();
//# sourceMappingURL=asyncGenerate.8451c4d6.js.map
